{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["'use strict'\n\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\n\nconst refs = {\n    formEl: document.querySelector('.form'),\n    galleryEl: document.querySelector('.gallery'),\n    \n}\nconst images = [\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2019/05/14/16/43/rchids-4202820__480.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2019/05/14/16/43/rchids-4202820_1280.jpg',\n    description: 'Hokkaido Flower',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2019/05/14/22/05/container-4203677__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2019/05/14/22/05/container-4203677_1280.jpg',\n    description: 'Container Haulage Freight',\n    },\n]\n refs.formEl.addEventListener('submit', onFormSubmit);\n\n//     const markup = images.map(({preview, original, description}) => {\n//         return `<li class=\"gallery-item2\">\n//  <div>\n//      <div class=\"gallery-item\">\n//           <a class=\"gallery-link\" href=\"${original}\">\n//             <img class=\"gallery-image\" src=\"${preview}\" alt=\"${description}\" />\n//           </a>\n//      </div>\n//  </div>\n// </li>`}).join('');\n//     refs.galleryEl.insertAdjacentHTML('beforeend',markup);\n\n\n\nfunction onFormSubmit(e) {\n    e.preventDefault();\n     refs.galleryEl.remove;\n    const value = e.target.elements.valueGallery.value;\n   \n    getUrl(value).then(data => {\n        if (data.length === 0) {\n            iziToast.error({\n                message: 'Sorry, there are no images matching your search query. Please try again!',\n    position: 'center',\n})\n        }\n        renderImages(data);\n            gallery.open();\n    console.log(gallery);\n    });\n    \n    e.target.reset();\n};\n\nfunction getUrl(clientValue) {\n    const BASE_URL = 'https://pixabay.com';\n    const ENDPOINT = '/api/';\n    const searchParams = new URLSearchParams({\n        key: '42132466-2eec74b8e2a534f613ea758a4',\n        q: clientValue,\n        image_type: 'photo',\n        orientation: 'horizontal',\n        safesearch: true,\n    });\n    const url = `${BASE_URL}${ENDPOINT}?${searchParams}`;\n    \n    return fetch(url)\n        .then(data => {\n            if (!data.ok) {\n                throw new Error(data.status);\n            }\n            return data.json()\n        })\n        .then(data => data.hits);\n\n}\n\n\n\nfunction imageTemplate(img) {\n    const {webformatURL, largeImageURL, tags, likes, views, comments, downloads} = img;\n    \n    return `<li>\n    <div class=\"card\">\n    <div class=\"img-container\">\n   <a href=\"${largeImageURL}\">\n                    <img src=\"${webformatURL}\" alt=\"${tags}\" />\n                </a>\n    </div>\n    <div class=\"img-comments\">\n    <p class=\"describe\">Likes ${ likes }</p>\n    <p class=\"describe\">Views ${ views }</p>\n    <p class=\"describe\">Comments ${ comments }</p>\n    <p class=\"describe\">Downloads ${downloads}</p>\n    </div>\n    </div>\n    </li>\n    `;\n}\n\n\nfunction imagesTemplate(images) {\n    return images.map(imageTemplate).join('');\n}\nfunction renderImages(images) {\n    const markup = imagesTemplate(images) ;\n    refs.galleryEl.innerHTML = markup;\n};\n     let gallery = new SimpleLightbox('.img-container a');\n\ngallery.on('show.simplelightbox', function () {});"],"names":["refs","onFormSubmit","e","value","getUrl","data","iziToast","renderImages","gallery","clientValue","BASE_URL","ENDPOINT","searchParams","url","imageTemplate","img","webformatURL","largeImageURL","tags","likes","views","comments","downloads","imagesTemplate","images","markup","SimpleLightbox"],"mappings":"6vBAQA,MAAMA,EAAO,CACT,OAAQ,SAAS,cAAc,OAAO,EACtC,UAAW,SAAS,cAAc,UAAU,CAEhD,EAiBCA,EAAK,OAAO,iBAAiB,SAAUC,CAAY,EAgBpD,SAASA,EAAaC,EAAG,CACrBA,EAAE,eAAc,EACfF,EAAK,UAAU,OAChB,MAAMG,EAAQD,EAAE,OAAO,SAAS,aAAa,MAE7CE,EAAOD,CAAK,EAAE,KAAKE,GAAQ,CACnBA,EAAK,SAAW,GAChBC,EAAS,MAAM,CACX,QAAS,2EACrB,SAAU,QACd,CAAC,EAEOC,EAAaF,CAAI,EACbG,EAAQ,KAAI,EACpB,QAAQ,IAAIA,CAAO,CACvB,CAAK,EAEDN,EAAE,OAAO,OACb,CAEA,SAASE,EAAOK,EAAa,CACzB,MAAMC,EAAW,sBACXC,EAAW,QACXC,EAAe,IAAI,gBAAgB,CACrC,IAAK,qCACL,EAAGH,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EACpB,CAAK,EACKI,EAAM,GAAGH,IAAWC,KAAYC,IAEtC,OAAO,MAAMC,CAAG,EACX,KAAKR,GAAQ,CACV,GAAI,CAACA,EAAK,GACN,MAAM,IAAI,MAAMA,EAAK,MAAM,EAE/B,OAAOA,EAAK,KAAM,CAC9B,CAAS,EACA,KAAKA,GAAQA,EAAK,IAAI,CAE/B,CAIA,SAASS,EAAcC,EAAK,CACxB,KAAM,CAAC,aAAAC,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAS,EAAIP,EAE/E,MAAO;AAAA;AAAA;AAAA,cAGGE;AAAA,gCACkBD,WAAsBE;AAAA;AAAA;AAAA;AAAA,gCAIrBC;AAAA,gCACAC;AAAA,mCACGC;AAAA,oCACAC;AAAA;AAAA;AAAA;AAAA,KAKpC,CAGA,SAASC,EAAeC,EAAQ,CAC5B,OAAOA,EAAO,IAAIV,CAAa,EAAE,KAAK,EAAE,CAC5C,CACA,SAASP,EAAaiB,EAAQ,CAC1B,MAAMC,EAASF,EAAeC,CAAM,EACpCxB,EAAK,UAAU,UAAYyB,CAC/B,CACK,IAAIjB,EAAU,IAAIkB,EAAe,kBAAkB,EAExDlB,EAAQ,GAAG,sBAAuB,UAAY,EAAE"}